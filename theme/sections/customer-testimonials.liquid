{% schema %}
{
  "name": "Customer Testimonials",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "What Our Customers Say"
    }
  ],
  "blocks": [
    {
      "type": "testimonial",
      "name": "Testimonial",
      "settings": [
        {
          "type": "range",
          "id": "rating",
          "label": "Rating",
          "min": 1,
          "max": 5,
          "step": 1,
          "default": 5
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Testimonial Text",
          "default": "Great products and excellent service!"
        },
        {
          "type": "text",
          "id": "author",
          "label": "Author Name",
          "default": "John Doe"
        },
        {
          "type": "text",
          "id": "location",
          "label": "Location",
          "default": "Truckee, CA"
        },
        {
          "type": "checkbox",
          "id": "verified",
          "label": "Verified Buyer",
          "default": true
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Customer Testimonials",
      "blocks": [
        {
          "type": "testimonial"
        },
        {
          "type": "testimonial"
        },
        {
          "type": "testimonial"
        },
        {
          "type": "testimonial"
        }
      ]
    }
  ]
}
{% endschema %}

<section class="testimonials">
  <div class="container">
    {%- if section.settings.heading != blank -%}
      <h2 class="section-title">{{ section.settings.heading }}</h2>
    {%- endif -%}
    
    <div class="testimonials-grid">
      {%- for block in section.blocks -%}
        <div class="testimonial-card" {{ block.shopify_attributes }}>
          <div class="testimonial-stars">
            {%- for i in (1..block.settings.rating) -%}
              â˜…
            {%- endfor -%}
          </div>
          <p class="testimonial-text">{{ block.settings.text }}</p>
          <div class="testimonial-author">
            {{ block.settings.author }}
            {%- if block.settings.verified -%}
              <span class="verified-badge">Verified Buyer</span>
            {%- endif -%}
          </div>
          {%- if block.settings.location != blank -%}
            <div class="testimonial-location">{{ block.settings.location }}</div>
          {%- endif -%}
        </div>
      {%- endfor -%}
    </div>
  </div>
</section>
